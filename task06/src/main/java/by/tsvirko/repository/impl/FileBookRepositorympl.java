package by.tsvirko.repository.impl;import by.tsvirko.entity.Book;import by.tsvirko.repository.FileBookRepository;import org.apache.logging.log4j.LogManager;import org.apache.logging.log4j.Logger;import java.io.*;import java.util.ArrayList;import java.util.HashSet;import java.util.List;import java.util.Set;public class FileBookRepositorympl implements FileBookRepository {    private final String FILE_PATH = "Books";    //TODO: logger    private static final Logger logger = LogManager.getLogger(FileBookRepositorympl.class);    @Override    public List<Book> read() throws IOException, ClassNotFoundException {        List<Book> books = new ArrayList<>();        FileInputStream fis = null;        try {            fis = new FileInputStream(new File(FILE_PATH));            while (true) {                ObjectInputStream ois = new ObjectInputStream(fis);                books.add((Book) ois.readObject());            }        } catch (EOFException ignored) {        } finally {            if (fis != null)                fis.close();        }        return books;    }    @Override    public void write(Book book) throws IOException {        try {            FileOutputStream f = new FileOutputStream(new File(FILE_PATH), true);            ObjectOutputStream o = new ObjectOutputStream(f);            o.writeObject(book);            o.close();            f.close();        } catch (FileNotFoundException e) {            throw new FileNotFoundException("file does not exist");        } catch (IOException e) {            throw new IOException("Error initializing stream");        }    }////    public static void main(String[] args) {////        FileBookRepositorympl fileBookDao = new FileBookRepositorympl();////        Set<String> strings = new HashSet<>();//        strings.add("LO");//        strings.add("OL");////        Book book = new Book("aaa", strings, 9, "LI", 2000);//        Book book1 = new Book("kkk", strings, 10, "LI", 2001);//        try {//            fileBookDao.write(book);//            fileBookDao.write(book1);////            List<Book> b = fileBookDao.read();//            for (Book book2 : b) {//                System.out.println(book2);//            }////        } catch (IOException | ClassNotFoundException e) {//            e.printStackTrace();//        }//    }}